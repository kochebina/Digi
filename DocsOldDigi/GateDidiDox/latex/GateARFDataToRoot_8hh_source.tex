\hypertarget{GateARFDataToRoot_8hh_source}{}\doxysection{Gate\+ARFData\+To\+Root.\+hh}
\label{GateARFDataToRoot_8hh_source}\index{/biomaps/physique/appli/GateOlga/src/source/arf/include/GateARFDataToRoot.hh@{/biomaps/physique/appli/GateOlga/src/source/arf/include/GateARFDataToRoot.hh}}

\begin{DoxyCode}{0}
\DoxyCodeLine{1 \textcolor{comment}{/*-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/}}
\DoxyCodeLine{2 \textcolor{comment}{ Copyright (C): OpenGATE Collaboration}}
\DoxyCodeLine{3 \textcolor{comment}{}}
\DoxyCodeLine{4 \textcolor{comment}{ This software is distributed under the terms}}
\DoxyCodeLine{5 \textcolor{comment}{ of the GNU Lesser General  Public Licence (LGPL)}}
\DoxyCodeLine{6 \textcolor{comment}{ See LICENSE.md for further details}}
\DoxyCodeLine{7 \textcolor{comment}{ -\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/*/}}
\DoxyCodeLine{8 }
\DoxyCodeLine{9 \textcolor{preprocessor}{\#ifndef GateARFDataToRoot\_H}}
\DoxyCodeLine{10 \textcolor{preprocessor}{\#define GateARFDataToRoot\_H}}
\DoxyCodeLine{11 \textcolor{preprocessor}{\#include "{}GateConfiguration.h"{}}}
\DoxyCodeLine{12 \textcolor{preprocessor}{\#ifdef G4ANALYSIS\_USE\_ROOT}}
\DoxyCodeLine{13 \textcolor{preprocessor}{\#include "{}GateVOutputModule.hh"{}}}
\DoxyCodeLine{14 }
\DoxyCodeLine{15 \textcolor{preprocessor}{\#include "{}TROOT.h"{}}}
\DoxyCodeLine{16 \textcolor{preprocessor}{\#include "{}TFile.h"{}}}
\DoxyCodeLine{17 \textcolor{preprocessor}{\#include "{}TH1.h"{}}}
\DoxyCodeLine{18 \textcolor{preprocessor}{\#include "{}TH2.h"{}}}
\DoxyCodeLine{19 \textcolor{preprocessor}{\#include "{}TH3.h"{}}}
\DoxyCodeLine{20 \textcolor{preprocessor}{\#include "{}TNtuple.h"{}}}
\DoxyCodeLine{21 \textcolor{preprocessor}{\#include "{}TRandom.h"{}}}
\DoxyCodeLine{22 \textcolor{preprocessor}{\#include "{}TDirectory.h"{}}}
\DoxyCodeLine{23 \textcolor{preprocessor}{\#include "{}TTree.h"{}}}
\DoxyCodeLine{24 \textcolor{preprocessor}{\#include "{}TBranch.h"{}}}
\DoxyCodeLine{25 }
\DoxyCodeLine{26 \textcolor{preprocessor}{\#include "{}globals.hh"{}}}
\DoxyCodeLine{27 \textcolor{preprocessor}{\#include <fstream>}}
\DoxyCodeLine{28 }
\DoxyCodeLine{29 \textcolor{preprocessor}{\#include "{}G4Run.hh"{}}}
\DoxyCodeLine{30 \textcolor{preprocessor}{\#include "{}G4Step.hh"{}}}
\DoxyCodeLine{31 \textcolor{preprocessor}{\#include "{}G4Event.hh"{}}}
\DoxyCodeLine{32 }
\DoxyCodeLine{33 \textcolor{keyword}{class }GateARFDataToRootMessenger;}
\DoxyCodeLine{34 \textcolor{keyword}{class }\mbox{\hyperlink{classGateSingleDigi}{GateSingleDigi}};}
\DoxyCodeLine{35 \textcolor{keyword}{class }\mbox{\hyperlink{classGateSteppingAction}{GateSteppingAction}};}
\DoxyCodeLine{36 }
\DoxyCodeLine{37 \textcolor{keyword}{class }GateARFData}
\DoxyCodeLine{38   \{}
\DoxyCodeLine{39 \textcolor{keyword}{public}:}
\DoxyCodeLine{40   G4double mDepositedEnergy; \textcolor{comment}{/* deposited energy */}}
\DoxyCodeLine{41   G4double mProjectionPositionY;}
\DoxyCodeLine{42   G4double mProjectionPositionX; \textcolor{comment}{/* Projection position on the detection plane */}}
\DoxyCodeLine{43   \};}
\DoxyCodeLine{44 }
\DoxyCodeLine{45 \textcolor{keyword}{class }GateARFDataToRoot: \textcolor{keyword}{public} \mbox{\hyperlink{classGateVOutputModule}{GateVOutputModule}}}
\DoxyCodeLine{46   \{}
\DoxyCodeLine{47 \textcolor{keyword}{public}:}
\DoxyCodeLine{48   GateARFDataToRoot(\textcolor{keyword}{const} G4String\& name, \mbox{\hyperlink{classGateOutputMgr}{GateOutputMgr}}* outputMgr, DigiMode digiMode);}
\DoxyCodeLine{49   \textcolor{keyword}{virtual} \string~GateARFDataToRoot();}
\DoxyCodeLine{50   \textcolor{keyword}{const} G4String\& GiveNameOfFile();}
\DoxyCodeLine{51   \textcolor{keywordtype}{void} RecordBeginOfAcquisition();}
\DoxyCodeLine{52   \textcolor{keywordtype}{void} RecordEndOfAcquisition();}
\DoxyCodeLine{53   \textcolor{keywordtype}{void} RecordBeginOfRun(\textcolor{keyword}{const} G4Run *);}
\DoxyCodeLine{54   \textcolor{keywordtype}{void} RecordEndOfRun(\textcolor{keyword}{const} G4Run *);}
\DoxyCodeLine{55   \textcolor{keywordtype}{void} RecordBeginOfEvent(\textcolor{keyword}{const} G4Event *);}
\DoxyCodeLine{56   \textcolor{keywordtype}{void} RecordEndOfEvent(\textcolor{keyword}{const} G4Event *);}
\DoxyCodeLine{57   \textcolor{keywordtype}{void} RecordDigitizer(\textcolor{keyword}{const} G4Event *);}
\DoxyCodeLine{58   \textcolor{keywordtype}{void} RecordStep(\textcolor{keyword}{const} G4Step*);}
\DoxyCodeLine{59   \textcolor{keywordtype}{void} RecordVoxels(\mbox{\hyperlink{classGateVGeometryVoxelStore}{GateVGeometryVoxelStore}}*);}
\DoxyCodeLine{60   \textcolor{keywordtype}{void} RecordStepWithVolume(\textcolor{keyword}{const} \mbox{\hyperlink{classGateVVolume}{GateVVolume}}*, \textcolor{keyword}{const} G4Step*)}
\DoxyCodeLine{61     \{}
\DoxyCodeLine{62     \}}
\DoxyCodeLine{63   \textcolor{keywordtype}{void} RecordTracks(\mbox{\hyperlink{classGateSteppingAction}{GateSteppingAction}}*)}
\DoxyCodeLine{64     \{}
\DoxyCodeLine{65     \}}
\DoxyCodeLine{66   \textcolor{keywordtype}{void} RegisterNewSingleDigiCollection(\textcolor{keyword}{const} G4String\& aCollectionName, G4bool outputFlag);}
\DoxyCodeLine{67   \textcolor{keywordtype}{void} RegisterNewCoincidenceDigiCollection(\textcolor{keyword}{const} G4String\&, G4bool)}
\DoxyCodeLine{68     \{}
\DoxyCodeLine{69     \}}
\DoxyCodeLine{70 }
\DoxyCodeLine{71   \textcolor{keywordtype}{void} SetVerboseLevel(G4int val)}
\DoxyCodeLine{72     \{}
\DoxyCodeLine{73     GateVOutputModule::SetVerboseLevel(val);}
\DoxyCodeLine{74 }
\DoxyCodeLine{75     \}}
\DoxyCodeLine{76   G4int StoreARFData(\mbox{\hyperlink{classGateSingleDigi}{GateSingleDigi}}*);}
\DoxyCodeLine{77   \textcolor{keywordtype}{void} SetProjectionPlane(G4double aX)}
\DoxyCodeLine{78     \{}
\DoxyCodeLine{79     mXPlane = aX;}
\DoxyCodeLine{80     \}}
\DoxyCodeLine{81 }
\DoxyCodeLine{82   G4ThreeVector GetPositionAtVertex();}
\DoxyCodeLine{83   \textcolor{keywordtype}{void} SetPositionAtVertex(G4ThreeVector);}
\DoxyCodeLine{84   G4ThreeVector GetVertexMomentumDirection();}
\DoxyCodeLine{85   \textcolor{keywordtype}{void} SetVertexMomentumDirection(G4ThreeVector);}
\DoxyCodeLine{86 }
\DoxyCodeLine{90   \textcolor{keywordtype}{void} CloseARFDataRootFile();}
\DoxyCodeLine{91 }
\DoxyCodeLine{92   \textcolor{keywordtype}{void} SetARFDataRootFileName(G4String);}
\DoxyCodeLine{93 }
\DoxyCodeLine{94   \textcolor{keywordtype}{void} IncrementNbOfSourcePhotons();}
\DoxyCodeLine{95 }
\DoxyCodeLine{96   \textcolor{keywordtype}{long} \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} GetNbOfGoingOutPhotons()}
\DoxyCodeLine{97     \{}
\DoxyCodeLine{98     \textcolor{keywordflow}{return} mNbofGoingOutPhotons;}
\DoxyCodeLine{99     \}}
\DoxyCodeLine{100   \textcolor{keywordtype}{long} \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} GetNbOfInPhotons()}
\DoxyCodeLine{101     \{}
\DoxyCodeLine{102     \textcolor{keywordflow}{return} mNbofGoingInPhotons;}
\DoxyCodeLine{103     \}}
\DoxyCodeLine{104   \textcolor{keywordtype}{void} IncrementGoingInPhotons()}
\DoxyCodeLine{105     \{}
\DoxyCodeLine{106     mNbofGoingInPhotons++;}
\DoxyCodeLine{107     \}}
\DoxyCodeLine{108   \textcolor{keywordtype}{void} IncrementGoingOutPhotons()}
\DoxyCodeLine{109     \{}
\DoxyCodeLine{110     mNbofGoingOutPhotons++;}
\DoxyCodeLine{111     \}}
\DoxyCodeLine{112   \textcolor{keywordtype}{void} IncrementKilledInsideCrystalPhotons()}
\DoxyCodeLine{113     \{}
\DoxyCodeLine{114     mNbofKilledInsideCrystalPhotons++;}
\DoxyCodeLine{115     \}}
\DoxyCodeLine{116   \textcolor{keywordtype}{void} IncrementKilledInsideColliPhotons()}
\DoxyCodeLine{117     \{}
\DoxyCodeLine{118     mNbofKilledInsideColliPhotons++;}
\DoxyCodeLine{119     \}}
\DoxyCodeLine{120   \textcolor{keywordtype}{void} IncrementKilledInsideCamera()}
\DoxyCodeLine{121     \{}
\DoxyCodeLine{122     mNbofKilledInsideCamera++;}
\DoxyCodeLine{123     \}}
\DoxyCodeLine{124   \textcolor{keywordtype}{void} IncrementInCamera()}
\DoxyCodeLine{125     \{}
\DoxyCodeLine{126     mInCamera++;}
\DoxyCodeLine{127     \}}
\DoxyCodeLine{128   \textcolor{keywordtype}{void} IncrementOutCamera()}
\DoxyCodeLine{129     \{}
\DoxyCodeLine{130     mOutCamera++;}
\DoxyCodeLine{131     \}}
\DoxyCodeLine{132   \textcolor{keywordtype}{void} DisplayARFStatistics();}
\DoxyCodeLine{133   G4int IsCounted()}
\DoxyCodeLine{134     \{}
\DoxyCodeLine{135     \textcolor{keywordflow}{return} mIsCounted;}
\DoxyCodeLine{136     \}}
\DoxyCodeLine{137   G4int IsCountedOut()}
\DoxyCodeLine{138     \{}
\DoxyCodeLine{139     \textcolor{keywordflow}{return} mIsCountedOut;}
\DoxyCodeLine{140     \}}
\DoxyCodeLine{141   \textcolor{keywordtype}{void} SetCounted()}
\DoxyCodeLine{142     \{}
\DoxyCodeLine{143     mIsCounted = 1;}
\DoxyCodeLine{144     \}}
\DoxyCodeLine{145   \textcolor{keywordtype}{void} SetCountedOut()}
\DoxyCodeLine{146     \{}
\DoxyCodeLine{147     mIsCountedOut = 1;}
\DoxyCodeLine{148     \}}
\DoxyCodeLine{149   \textcolor{keywordtype}{void} SetNHeads(G4int N)}
\DoxyCodeLine{150     \{}
\DoxyCodeLine{151     mNbOfHeads = N;}
\DoxyCodeLine{152     \}}
\DoxyCodeLine{153   \textcolor{keywordtype}{void} setDRFDataprojectionmode(G4int opt)}
\DoxyCodeLine{154     \{}
\DoxyCodeLine{155     mDrfProjectionMode = opt;}
\DoxyCodeLine{156     \}}
\DoxyCodeLine{157 }
\DoxyCodeLine{158 \textcolor{keyword}{private}:}
\DoxyCodeLine{159   GateARFDataToRootMessenger* mRootMessenger;}
\DoxyCodeLine{160   G4String mArfDataFilename; \textcolor{comment}{/* the naeof the root output file */}}
\DoxyCodeLine{161   TFile* mArfDataFile; \textcolor{comment}{/* the root file */}}
\DoxyCodeLine{162   TTree* mArfDataTree; \textcolor{comment}{/* the root tree */}}
\DoxyCodeLine{163   TTree* mNbOfPhotonsTree;}
\DoxyCodeLine{164   \textcolor{comment}{/* the datas to be saved in the root file */}}
\DoxyCodeLine{165   GateARFData mArfData;}
\DoxyCodeLine{166   G4int mDrfProjectionMode;}
\DoxyCodeLine{167   G4String mSingleDigiCollectionName; \textcolor{comment}{/* the singledigi collection name */}}
\DoxyCodeLine{168   G4RotationMatrix mRotationMatrix;}
\DoxyCodeLine{169   G4ThreeVector mTranslation;}
\DoxyCodeLine{170   G4double mXPlane; \textcolor{comment}{/* this is the YZ projection plane where we project energy deposition coordinates */}}
\DoxyCodeLine{171   ULong64\_t mInCamera;}
\DoxyCodeLine{172   ULong64\_t mOutCamera;}
\DoxyCodeLine{173   ULong64\_t mNbOfSimuPhotons;}
\DoxyCodeLine{174   ULong64\_t mNbOfSourcePhotons;}
\DoxyCodeLine{175   ULong64\_t mNbofGoingOutPhotons;}
\DoxyCodeLine{176   ULong64\_t mNbofStraightPhotons;}
\DoxyCodeLine{177   ULong64\_t mNbofGoingInPhotons;}
\DoxyCodeLine{178   ULong64\_t mNbofKilledInsideCrystalPhotons;}
\DoxyCodeLine{179   ULong64\_t mNbofKilledInsideColliPhotons;}
\DoxyCodeLine{180   ULong64\_t mNbofKilledInsideCamera;}
\DoxyCodeLine{181   ULong64\_t mNbofBornInsidePhotons;}
\DoxyCodeLine{182   ULong64\_t mNbofStoredPhotons;}
\DoxyCodeLine{183   G4int mIsCounted;}
\DoxyCodeLine{184   G4int mIsCountedOut; \textcolor{comment}{/* flag to know the in going photon has been counted or not */}}
\DoxyCodeLine{185   G4int mHeadID;}
\DoxyCodeLine{186   G4int mNbOfHeads;}
\DoxyCodeLine{187   \};}
\DoxyCodeLine{188 }
\DoxyCodeLine{189 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{190 \textcolor{preprocessor}{\#endif}}

\end{DoxyCode}
