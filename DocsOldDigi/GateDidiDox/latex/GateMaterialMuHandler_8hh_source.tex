\hypertarget{GateMaterialMuHandler_8hh_source}{}\doxysection{Gate\+Material\+Mu\+Handler.\+hh}
\label{GateMaterialMuHandler_8hh_source}\index{/biomaps/physique/appli/GateOlga/src/source/digits\_hits/include/GateMaterialMuHandler.hh@{/biomaps/physique/appli/GateOlga/src/source/digits\_hits/include/GateMaterialMuHandler.hh}}

\begin{DoxyCode}{0}
\DoxyCodeLine{1 \textcolor{comment}{/*-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/}}
\DoxyCodeLine{2 \textcolor{comment}{   Copyright (C): OpenGATE Collaboration}}
\DoxyCodeLine{3 \textcolor{comment}{}}
\DoxyCodeLine{4 \textcolor{comment}{This software is distributed under the terms}}
\DoxyCodeLine{5 \textcolor{comment}{of the GNU Lesser General  Public Licence (LGPL)}}
\DoxyCodeLine{6 \textcolor{comment}{See LICENSE.md for further details}}
\DoxyCodeLine{7 \textcolor{comment}{-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/*/}}
\DoxyCodeLine{8 }
\DoxyCodeLine{9 }
\DoxyCodeLine{15 \textcolor{preprocessor}{\#ifndef GATEMATERIALMUHANDLER\_HH}}
\DoxyCodeLine{16 \textcolor{preprocessor}{\#define GATEMATERIALMUHANDLER\_HH}}
\DoxyCodeLine{17 }
\DoxyCodeLine{18 \textcolor{preprocessor}{\#include "{}GateMuTables.hh"{}}}
\DoxyCodeLine{19 \textcolor{preprocessor}{\#include "{}GatePhysicsList.hh"{}}}
\DoxyCodeLine{20 }
\DoxyCodeLine{21 \textcolor{preprocessor}{\#include "{}G4UnitsTable.hh"{}}}
\DoxyCodeLine{22 \textcolor{preprocessor}{\#include "{}G4MaterialCutsCouple.hh"{}}}
\DoxyCodeLine{23 \textcolor{preprocessor}{\#include "{}G4ParticleTable.hh"{}}}
\DoxyCodeLine{24 \textcolor{preprocessor}{\#include "{}G4LossTableManager.hh"{}}}
\DoxyCodeLine{25 }
\DoxyCodeLine{26 \textcolor{preprocessor}{\#include <map>}}
\DoxyCodeLine{27 }
\DoxyCodeLine{28 }
\DoxyCodeLine{29 \textcolor{keyword}{using} std::map;}
\DoxyCodeLine{30 \textcolor{keyword}{using} std::string;}
\DoxyCodeLine{31 }
\DoxyCodeLine{32 \textcolor{keyword}{struct }\mbox{\hyperlink{structMuStorageStruct}{MuStorageStruct}}}
\DoxyCodeLine{33 \{}
\DoxyCodeLine{34     \textcolor{keywordtype}{double} energy;}
\DoxyCodeLine{35     \textcolor{keywordtype}{int} isAtomicShell;}
\DoxyCodeLine{36     \textcolor{keywordtype}{double} atomicShellEnergy;}
\DoxyCodeLine{37     \textcolor{keywordtype}{double} mu;}
\DoxyCodeLine{38     \textcolor{keywordtype}{double} muen;}
\DoxyCodeLine{39 }
\DoxyCodeLine{40     \mbox{\hyperlink{structMuStorageStruct}{MuStorageStruct}}(\textcolor{keywordtype}{double} e, \textcolor{keywordtype}{int} i, \textcolor{keywordtype}{double} a)}
\DoxyCodeLine{41     \{}
\DoxyCodeLine{42       energy = e;}
\DoxyCodeLine{43       isAtomicShell = i;}
\DoxyCodeLine{44       atomicShellEnergy = a;}
\DoxyCodeLine{45       mu = 0.;}
\DoxyCodeLine{46       muen = 0.;}
\DoxyCodeLine{47     \}}
\DoxyCodeLine{48 }
\DoxyCodeLine{49     \textcolor{keywordtype}{bool} operator < (\textcolor{keyword}{const} \mbox{\hyperlink{structMuStorageStruct}{MuStorageStruct}}\& str)\textcolor{keyword}{ const}}
\DoxyCodeLine{50 \textcolor{keyword}{    }\{}
\DoxyCodeLine{51         \textcolor{keywordflow}{return} (energy < str.energy);}
\DoxyCodeLine{52     \}}
\DoxyCodeLine{53 \};}
\DoxyCodeLine{54 }
\DoxyCodeLine{55 \textcolor{keyword}{class }\mbox{\hyperlink{classGateMaterialMuHandler}{GateMaterialMuHandler}}}
\DoxyCodeLine{56 \{}
\DoxyCodeLine{57 }
\DoxyCodeLine{58 \textcolor{keyword}{public}:}
\DoxyCodeLine{59 }
\DoxyCodeLine{60   \textcolor{keyword}{static} \mbox{\hyperlink{classGateMaterialMuHandler}{GateMaterialMuHandler}} *GetInstance()}
\DoxyCodeLine{61   \{}
\DoxyCodeLine{62     \textcolor{keywordflow}{if} (singleton\_MaterialMuHandler == 0)}
\DoxyCodeLine{63     \{}
\DoxyCodeLine{64       singleton\_MaterialMuHandler = \textcolor{keyword}{new} \mbox{\hyperlink{classGateMaterialMuHandler}{GateMaterialMuHandler}}();}
\DoxyCodeLine{65     \}}
\DoxyCodeLine{66     \textcolor{keywordflow}{return} singleton\_MaterialMuHandler;}
\DoxyCodeLine{67   \};}
\DoxyCodeLine{68 }
\DoxyCodeLine{69 }
\DoxyCodeLine{70   \mbox{\hyperlink{classGateMaterialMuHandler}{\string~GateMaterialMuHandler}}();}
\DoxyCodeLine{71   \textcolor{keywordtype}{double} GetDensity(\textcolor{keyword}{const} G4MaterialCutsCouple *);}
\DoxyCodeLine{72   \textcolor{keywordtype}{double} GetMuEnOverRho(\textcolor{keyword}{const} G4MaterialCutsCouple *, \textcolor{keywordtype}{double});}
\DoxyCodeLine{73   \textcolor{keywordtype}{double} GetMuEn(\textcolor{keyword}{const} G4MaterialCutsCouple *, \textcolor{keywordtype}{double});}
\DoxyCodeLine{74   \textcolor{keywordtype}{double} GetMuOverRho(\textcolor{keyword}{const} G4MaterialCutsCouple *, \textcolor{keywordtype}{double});}
\DoxyCodeLine{75   \textcolor{keywordtype}{double} GetMu(\textcolor{keyword}{const} G4MaterialCutsCouple *, \textcolor{keywordtype}{double});}
\DoxyCodeLine{76   G4String GetDatabaseName() \{ \textcolor{keywordflow}{return} mDatabaseName; \}}
\DoxyCodeLine{77 }
\DoxyCodeLine{78   \mbox{\hyperlink{classGateMuTable}{GateMuTable}} *GetMuTable(\textcolor{keyword}{const} G4MaterialCutsCouple *);}
\DoxyCodeLine{79   }
\DoxyCodeLine{80   \textcolor{keywordtype}{void} SetDatabaseName(G4String name) \{ mDatabaseName = name; \}}
\DoxyCodeLine{81   \textcolor{keywordtype}{void} SetEMin(\textcolor{keywordtype}{double} e) \{ mEnergyMin = e; \}}
\DoxyCodeLine{82   \textcolor{keywordtype}{void} SetEMax(\textcolor{keywordtype}{double} e) \{ mEnergyMax = e; \}}
\DoxyCodeLine{83   \textcolor{keywordtype}{void} SetENumber(\textcolor{keywordtype}{int} n) \{ mEnergyNumber = n; \}}
\DoxyCodeLine{84   \textcolor{keywordtype}{void} SetAtomicShellEMin(\textcolor{keywordtype}{double} e) \{ mAtomicShellEnergyMin = e; \}}
\DoxyCodeLine{85   \textcolor{keywordtype}{void} SetPrecision(\textcolor{keywordtype}{double} p) \{ mPrecision = p; \}}
\DoxyCodeLine{86 }
\DoxyCodeLine{87 \textcolor{keyword}{private}:}
\DoxyCodeLine{88 }
\DoxyCodeLine{89   \mbox{\hyperlink{classGateMaterialMuHandler}{GateMaterialMuHandler}}();}
\DoxyCodeLine{90 }
\DoxyCodeLine{91   \textcolor{comment}{// Initialization}}
\DoxyCodeLine{92   \textcolor{keywordtype}{void} Initialize();}
\DoxyCodeLine{93   \textcolor{comment}{// -\/ Precalculated coefficients (by element)}}
\DoxyCodeLine{94   \textcolor{keywordtype}{void} InitElementTable();}
\DoxyCodeLine{95   \textcolor{keywordtype}{void} ConstructMaterial(\textcolor{keyword}{const} G4MaterialCutsCouple *);}
\DoxyCodeLine{96   \textcolor{comment}{// -\/ Complete simulation of coefficients}}
\DoxyCodeLine{97   \textcolor{keywordtype}{void} SimulateMaterialTable();}
\DoxyCodeLine{98   \textcolor{keywordtype}{void} ConstructEnergyList(std::vector<MuStorageStruct> *, \textcolor{keyword}{const} G4Material *);}
\DoxyCodeLine{99   \textcolor{keywordtype}{void} MergeAtomicShell(std::vector<MuStorageStruct> *);}
\DoxyCodeLine{100   \textcolor{keywordtype}{double} ProcessOneShot(G4VEmModel *,std::vector<G4DynamicParticle*> *, \textcolor{keyword}{const} G4MaterialCutsCouple *, \textcolor{keyword}{const} G4DynamicParticle *);}
\DoxyCodeLine{101   \textcolor{keywordtype}{double} SquaredSigmaOnMean(\textcolor{keywordtype}{double} , \textcolor{keywordtype}{double} , \textcolor{keywordtype}{double});}
\DoxyCodeLine{102 }
\DoxyCodeLine{103   map<const G4MaterialCutsCouple *, GateMuTable*> mCoupleTable;}
\DoxyCodeLine{104   \mbox{\hyperlink{classGateMuTable}{GateMuTable}}** mElementsTable;}
\DoxyCodeLine{105   \textcolor{keywordtype}{int} mElementNumber;}
\DoxyCodeLine{106   G4String mDatabaseName;}
\DoxyCodeLine{107 }
\DoxyCodeLine{108   \textcolor{keywordtype}{bool} mIsInitialized;}
\DoxyCodeLine{109   \textcolor{keywordtype}{double} mEnergyMin;}
\DoxyCodeLine{110   \textcolor{keywordtype}{double} mEnergyMax;}
\DoxyCodeLine{111   \textcolor{keywordtype}{int} mEnergyNumber;}
\DoxyCodeLine{112   \textcolor{keywordtype}{double} mAtomicShellEnergyMin;}
\DoxyCodeLine{113   \textcolor{keywordtype}{double} mPrecision;}
\DoxyCodeLine{114 }
\DoxyCodeLine{115   \textcolor{keyword}{static} \mbox{\hyperlink{classGateMaterialMuHandler}{GateMaterialMuHandler}} *singleton\_MaterialMuHandler;}
\DoxyCodeLine{116   }
\DoxyCodeLine{117   \textcolor{comment}{// -\/ fast acces}}
\DoxyCodeLine{118   \textcolor{keywordtype}{void} CheckLastCall(\textcolor{keyword}{const} G4MaterialCutsCouple *);}
\DoxyCodeLine{119   \textcolor{keyword}{const} G4MaterialCutsCouple *mLastCouple;}
\DoxyCodeLine{120   \mbox{\hyperlink{classGateMuTable}{GateMuTable}} *mLastMuTable;}
\DoxyCodeLine{121 }
\DoxyCodeLine{122 \};}
\DoxyCodeLine{123 }
\DoxyCodeLine{124 }
\DoxyCodeLine{125 \textcolor{preprocessor}{\#endif}}

\end{DoxyCode}
