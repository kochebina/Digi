\hypertarget{GateARFSD_8hh_source}{}\doxysection{Gate\+ARFSD.\+hh}
\label{GateARFSD_8hh_source}\index{/biomaps/physique/appli/GateOlga/src/source/arf/include/GateARFSD.hh@{/biomaps/physique/appli/GateOlga/src/source/arf/include/GateARFSD.hh}}

\begin{DoxyCode}{0}
\DoxyCodeLine{1 \textcolor{comment}{/*-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/}}
\DoxyCodeLine{2 \textcolor{comment}{ Copyright (C): OpenGATE Collaboration}}
\DoxyCodeLine{3 \textcolor{comment}{}}
\DoxyCodeLine{4 \textcolor{comment}{ This software is distributed under the terms}}
\DoxyCodeLine{5 \textcolor{comment}{ of the GNU Lesser General  Public Licence (LGPL)}}
\DoxyCodeLine{6 \textcolor{comment}{ See LICENSE.md for further details}}
\DoxyCodeLine{7 \textcolor{comment}{ -\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/*/}}
\DoxyCodeLine{8 }
\DoxyCodeLine{9 \textcolor{preprocessor}{\#include "{}GateConfiguration.h"{}}}
\DoxyCodeLine{10 }
\DoxyCodeLine{11 \textcolor{preprocessor}{\#ifdef G4ANALYSIS\_USE\_ROOT}}
\DoxyCodeLine{12 }
\DoxyCodeLine{13 \textcolor{preprocessor}{\#ifndef GateARFSD\_h}}
\DoxyCodeLine{14 \textcolor{preprocessor}{\#define GateARFSD\_h 1}}
\DoxyCodeLine{15 }
\DoxyCodeLine{16 \textcolor{preprocessor}{\#include "{}G4VSensitiveDetector.hh"{}}}
\DoxyCodeLine{17 \textcolor{preprocessor}{\#include "{}GateCrystalHit.hh"{}}}
\DoxyCodeLine{18 }
\DoxyCodeLine{19 \textcolor{preprocessor}{\#include "{}TROOT.h"{}}}
\DoxyCodeLine{20 \textcolor{preprocessor}{\#include "{}TFile.h"{}}}
\DoxyCodeLine{21 \textcolor{preprocessor}{\#include "{}TDirectory.h"{}}}
\DoxyCodeLine{22 \textcolor{preprocessor}{\#include "{}TTree.h"{}}}
\DoxyCodeLine{23 \textcolor{preprocessor}{\#include "{}TBranch.h"{}}}
\DoxyCodeLine{24 \textcolor{preprocessor}{\#include "{}\mbox{\hyperlink{GateProjectionSet_8hh}{GateProjectionSet.hh}}"{}}}
\DoxyCodeLine{25 \textcolor{preprocessor}{\#include <map>}}
\DoxyCodeLine{26 }
\DoxyCodeLine{27 \textcolor{keyword}{class }G4Step;}
\DoxyCodeLine{28 \textcolor{keyword}{class }G4HCofThisEvent;}
\DoxyCodeLine{29 \textcolor{keyword}{class }G4TouchableHistory;}
\DoxyCodeLine{30 }
\DoxyCodeLine{31 \textcolor{keyword}{class }\mbox{\hyperlink{classGateVSystem}{GateVSystem}};}
\DoxyCodeLine{32 \textcolor{keyword}{class }\mbox{\hyperlink{classGateARFSDMessenger}{GateARFSDMessenger}};}
\DoxyCodeLine{33 }
\DoxyCodeLine{52 \textcolor{keyword}{class }\mbox{\hyperlink{classGateVVolume}{GateVVolume}};}
\DoxyCodeLine{53 \textcolor{keyword}{class }\mbox{\hyperlink{classGateARFTableMgr}{GateARFTableMgr}};}
\DoxyCodeLine{54 }
\DoxyCodeLine{55 \textcolor{keyword}{class }GateARFData}
\DoxyCodeLine{56   \{}
\DoxyCodeLine{57 \textcolor{keyword}{public}:}
\DoxyCodeLine{58   G4double mDepositedEnergy; \textcolor{comment}{// deposited energy}}
\DoxyCodeLine{59   G4double mProjectionPositionY;}
\DoxyCodeLine{60   G4double mProjectionPositionX; \textcolor{comment}{// porjection position on the detection plane}}
\DoxyCodeLine{61   \};}
\DoxyCodeLine{62 }
\DoxyCodeLine{63 \textcolor{keyword}{class }GateARFSD: \textcolor{keyword}{public} G4VSensitiveDetector}
\DoxyCodeLine{64   \{}
\DoxyCodeLine{65 }
\DoxyCodeLine{66 \textcolor{keyword}{public}:}
\DoxyCodeLine{69   GateARFSD(\textcolor{keyword}{const} G4String\& pathname, \textcolor{keyword}{const} G4String \& aName);}
\DoxyCodeLine{71   \string~GateARFSD();}
\DoxyCodeLine{72 }
\DoxyCodeLine{73   GateARFSD* Clone() \textcolor{keyword}{const override};}
\DoxyCodeLine{74 }
\DoxyCodeLine{76   \textcolor{keywordtype}{void} Initialize(G4HCofThisEvent*HCE) \textcolor{keyword}{override};}
\DoxyCodeLine{77 }
\DoxyCodeLine{80   G4bool ProcessHits(G4Step*aStep, G4TouchableHistory*ROhist) \textcolor{keyword}{override};}
\DoxyCodeLine{81 }
\DoxyCodeLine{83   \textcolor{keyword}{static} \textcolor{keyword}{inline} \textcolor{keyword}{const} G4String\& GetCrystalCollectionName()}
\DoxyCodeLine{84     \{}
\DoxyCodeLine{85     \textcolor{keywordflow}{return} mArfHitCollectionName;}
\DoxyCodeLine{86     \}}
\DoxyCodeLine{87 }
\DoxyCodeLine{89   \textcolor{keyword}{inline} \mbox{\hyperlink{classGateVSystem}{GateVSystem}}* GetSystem()}
\DoxyCodeLine{90     \{}
\DoxyCodeLine{91     \textcolor{keywordflow}{return} mSystem;}
\DoxyCodeLine{92     \}}
\DoxyCodeLine{94   \textcolor{keywordtype}{void} SetSystem(\mbox{\hyperlink{classGateVSystem}{GateVSystem}}* aSystem);}
\DoxyCodeLine{95 }
\DoxyCodeLine{96   G4String GetName()}
\DoxyCodeLine{97     \{}
\DoxyCodeLine{98     \textcolor{keywordflow}{return} mName;}
\DoxyCodeLine{99     \}}
\DoxyCodeLine{100   ;}
\DoxyCodeLine{101 }
\DoxyCodeLine{102   G4int PrepareCreatorAttachment(\mbox{\hyperlink{classGateVVolume}{GateVVolume}}* aCreator);}
\DoxyCodeLine{103 }
\DoxyCodeLine{104   \textcolor{keyword}{inline} \textcolor{keywordtype}{void} setEnergyDepositionThreshold(G4double aT)}
\DoxyCodeLine{105     \{}
\DoxyCodeLine{106     mEnergyDepositionThreshold = aT;}
\DoxyCodeLine{107     \}}
\DoxyCodeLine{108   ;}
\DoxyCodeLine{109   \textcolor{keywordtype}{void} SetInserter(\mbox{\hyperlink{classGateVVolume}{GateVVolume}}* aInserter)}
\DoxyCodeLine{110     \{}
\DoxyCodeLine{111     mInserter = aInserter;}
\DoxyCodeLine{112     \}}
\DoxyCodeLine{113   ;}
\DoxyCodeLine{114   \mbox{\hyperlink{classGateVVolume}{GateVVolume}}* GetInserter()}
\DoxyCodeLine{115     \{}
\DoxyCodeLine{116     \textcolor{keywordflow}{return} mInserter;}
\DoxyCodeLine{117     \}}
\DoxyCodeLine{118   ;}
\DoxyCodeLine{119 }
\DoxyCodeLine{120   \textcolor{keywordtype}{void} computeTables();}
\DoxyCodeLine{121 }
\DoxyCodeLine{122   \textcolor{keywordtype}{void} AddNewEnergyWindow(\textcolor{keyword}{const} G4String \& basename, \textcolor{keyword}{const} G4int \& NFiles)}
\DoxyCodeLine{123     \{}
\DoxyCodeLine{124     mEnergyWindows.push\_back(basename);}
\DoxyCodeLine{125     mEnergyWindowsNumberOfPrimaries.push\_back(NFiles);}
\DoxyCodeLine{126     \}}
\DoxyCodeLine{127   ;}
\DoxyCodeLine{128 }
\DoxyCodeLine{129   \textcolor{keywordtype}{void} ComputeProjectionSet(\textcolor{keyword}{const} G4ThreeVector \& position,}
\DoxyCodeLine{130                             \textcolor{keyword}{const} G4ThreeVector \& direction,}
\DoxyCodeLine{131                             \textcolor{keyword}{const} G4double \& energy,}
\DoxyCodeLine{132                             \textcolor{keyword}{const} G4double \& weight,}
\DoxyCodeLine{133                             \textcolor{keywordtype}{bool} addEmToArfCount = \textcolor{keyword}{false},}
\DoxyCodeLine{134                             \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} newHead = 1);}
\DoxyCodeLine{135 }
\DoxyCodeLine{136   \textcolor{keywordtype}{void} SetDepth(\textcolor{keyword}{const} G4double \& aDepth)}
\DoxyCodeLine{137     \{}
\DoxyCodeLine{138     mDetectorXDepth = aDepth;}
\DoxyCodeLine{139     \}}
\DoxyCodeLine{140 }
\DoxyCodeLine{141   G4double GetDepth()}
\DoxyCodeLine{142     \{}
\DoxyCodeLine{143     \textcolor{keywordflow}{return} mDetectorXDepth;}
\DoxyCodeLine{144     \}}
\DoxyCodeLine{145 }
\DoxyCodeLine{146   \textcolor{keywordtype}{void} SetShortcutARF(\textcolor{keyword}{const} \textcolor{keywordtype}{bool} \& \textcolor{keywordtype}{boolean})}
\DoxyCodeLine{147     \{}
\DoxyCodeLine{148     mShortcutARF = \mbox{\hyperlink{namespacenlohmann_1_1detail_a1ed8fc6239da25abcaf681d30ace4985a84e2c64f38f78ba3ea5c905ab5a2da27}{boolean}};}
\DoxyCodeLine{149     \}}
\DoxyCodeLine{150 }
\DoxyCodeLine{151   G4int GetCopyNo()}
\DoxyCodeLine{152     \{}
\DoxyCodeLine{153     \textcolor{keywordflow}{return} mHeadID;}
\DoxyCodeLine{154     \}}
\DoxyCodeLine{155   ;}
\DoxyCodeLine{156   \textcolor{keywordtype}{void} SetCopyNo(\textcolor{keyword}{const} G4int \& aID)}
\DoxyCodeLine{157     \{}
\DoxyCodeLine{158     mHeadID = aID;}
\DoxyCodeLine{159     \}}
\DoxyCodeLine{160   ;}
\DoxyCodeLine{161 }
\DoxyCodeLine{162   \textcolor{keywordtype}{void} SetStage(\textcolor{keyword}{const} G4int \& I)}
\DoxyCodeLine{163     \{}
\DoxyCodeLine{164     mArfStage = I;}
\DoxyCodeLine{165     \}}
\DoxyCodeLine{166   ;}
\DoxyCodeLine{167   G4int GetStage()}
\DoxyCodeLine{168     \{}
\DoxyCodeLine{169     \textcolor{keywordflow}{return} mArfStage;}
\DoxyCodeLine{170     \}}
\DoxyCodeLine{171   ;}
\DoxyCodeLine{172 }
\DoxyCodeLine{173 \textcolor{keyword}{protected}:}
\DoxyCodeLine{174   \mbox{\hyperlink{classGateVSystem}{GateVSystem}}* mSystem;                       }
\DoxyCodeLine{175 }
\DoxyCodeLine{176 \textcolor{keyword}{private}:}
\DoxyCodeLine{177   GateCrystalHitsCollection * mArfHitCollection;  }
\DoxyCodeLine{178   \textcolor{keyword}{static} \textcolor{keyword}{const} G4String mArfHitCollectionName; }
\DoxyCodeLine{179   \mbox{\hyperlink{classGateARFSDMessenger}{GateARFSDMessenger}}* mMessenger;}
\DoxyCodeLine{180   G4String mName;}
\DoxyCodeLine{181   \mbox{\hyperlink{classGateVVolume}{GateVVolume}}* mInserter;}
\DoxyCodeLine{182   \mbox{\hyperlink{classGateARFTableMgr}{GateARFTableMgr}}* mArfTableMgr; \textcolor{comment}{// this manages the ARF tables for this ARF Sensitive Detector}}
\DoxyCodeLine{183   TFile* mFile;}
\DoxyCodeLine{184   TTree* mSinglesTree;}
\DoxyCodeLine{185   TTree* mNbOfPhotonsTree;}
\DoxyCodeLine{186 }
\DoxyCodeLine{187   ULong64\_t mNbOfSourcePhotons;}
\DoxyCodeLine{188   ULong64\_t mNbOfSimuPhotons;}
\DoxyCodeLine{189   ULong64\_t mNbofGoingOutPhotons;}
\DoxyCodeLine{190   ULong64\_t mNbofGoingInPhotons;}
\DoxyCodeLine{191   ULong64\_t mNbofStraightPhotons;}
\DoxyCodeLine{192   ULong64\_t mNbofStoredPhotons;}
\DoxyCodeLine{193   ULong64\_t mNbOfGoodPhotons;}
\DoxyCodeLine{194   ULong64\_t mInCamera;}
\DoxyCodeLine{195   ULong64\_t mOutCamera;}
\DoxyCodeLine{196 }
\DoxyCodeLine{197   \textcolor{keywordtype}{long} \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} mNbOfRejectedPhotons;}
\DoxyCodeLine{198 }
\DoxyCodeLine{199   GateARFData mArfData;}
\DoxyCodeLine{200 }
\DoxyCodeLine{201   \mbox{\hyperlink{classGateProjectionSet}{GateProjectionSet}}* mProjectionSet;}
\DoxyCodeLine{202   G4int mHeadID;}
\DoxyCodeLine{203   G4int mNbOfHeads;}
\DoxyCodeLine{204 }
\DoxyCodeLine{205   G4double mDetectorXDepth; \textcolor{comment}{// depth of the detector ( x length )}}
\DoxyCodeLine{206 }
\DoxyCodeLine{207   std::vector<G4String> mEnergyWindows;}
\DoxyCodeLine{208   std::vector<G4int> mEnergyWindowsNumberOfPrimaries;}
\DoxyCodeLine{209   G4double mEnergyDepositionThreshold;}
\DoxyCodeLine{210   G4int mArfStage;}
\DoxyCodeLine{211   \textcolor{keywordtype}{bool} mShortcutARF;}
\DoxyCodeLine{212   \};}
\DoxyCodeLine{213 }
\DoxyCodeLine{214 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{215 }
\DoxyCodeLine{216 \textcolor{preprocessor}{\#endif}}

\end{DoxyCode}
