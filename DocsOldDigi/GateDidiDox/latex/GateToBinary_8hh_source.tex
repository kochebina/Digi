\hypertarget{GateToBinary_8hh_source}{}\doxysection{Gate\+To\+Binary.\+hh}
\label{GateToBinary_8hh_source}\index{/biomaps/physique/appli/GateOlga/src/source/digits\_hits/include/GateToBinary.hh@{/biomaps/physique/appli/GateOlga/src/source/digits\_hits/include/GateToBinary.hh}}

\begin{DoxyCode}{0}
\DoxyCodeLine{1 \textcolor{preprocessor}{\#ifndef GUARD\_GATETOBINARY\_HH}}
\DoxyCodeLine{2 \textcolor{preprocessor}{\#include "{}GateConfiguration.h"{}}}
\DoxyCodeLine{3 }
\DoxyCodeLine{4 \textcolor{preprocessor}{\#ifdef G4ANALYSIS\_USE\_FILE}}
\DoxyCodeLine{5 }
\DoxyCodeLine{22 \textcolor{preprocessor}{\#include <string>}}
\DoxyCodeLine{23 \textcolor{preprocessor}{\#include <vector>}}
\DoxyCodeLine{24 \textcolor{preprocessor}{\#include <cerrno>}}
\DoxyCodeLine{25 \textcolor{preprocessor}{\#include <cstdlib>}}
\DoxyCodeLine{26 }
\DoxyCodeLine{27 \textcolor{preprocessor}{\#include "{}GateVOutputModule.hh"{}}}
\DoxyCodeLine{28 \textcolor{preprocessor}{\#include "{}GateCoincidenceDigi.hh"{}}}
\DoxyCodeLine{29 \textcolor{preprocessor}{\#include "{}GateSingleDigi.hh"{}}}
\DoxyCodeLine{30 \textcolor{preprocessor}{\#include "{}GatePrimaryGeneratorAction.hh"{}}}
\DoxyCodeLine{31 \textcolor{preprocessor}{\#include "{}GateRunManager.hh"{}}}
\DoxyCodeLine{32 }
\DoxyCodeLine{33 \textcolor{keyword}{class }GateToBinaryMessenger;}
\DoxyCodeLine{34 }
\DoxyCodeLine{42 \textcolor{keyword}{class }GateToBinary : \textcolor{keyword}{public} \mbox{\hyperlink{classGateVOutputModule}{GateVOutputModule}}}
\DoxyCodeLine{43 \{}
\DoxyCodeLine{44 \textcolor{keyword}{public}:}
\DoxyCodeLine{51   GateToBinary( G4String \textcolor{keyword}{const}\& name, \mbox{\hyperlink{classGateOutputMgr}{GateOutputMgr}}* outputMgr,}
\DoxyCodeLine{52         DigiMode digiMode );}
\DoxyCodeLine{53 }
\DoxyCodeLine{60   \textcolor{keyword}{virtual} \string~GateToBinary();}
\DoxyCodeLine{61 }
\DoxyCodeLine{66   \textcolor{keyword}{virtual} \textcolor{keywordtype}{void} RecordBeginOfAcquisition();}
\DoxyCodeLine{67 }
\DoxyCodeLine{72   \textcolor{keyword}{virtual} \textcolor{keywordtype}{void} RecordEndOfAcquisition();}
\DoxyCodeLine{73 }
\DoxyCodeLine{78   \textcolor{keyword}{virtual} \textcolor{keywordtype}{void} RecordBeginOfRun( G4Run \textcolor{keyword}{const}* );}
\DoxyCodeLine{79 }
\DoxyCodeLine{84   \textcolor{keyword}{virtual} \textcolor{keywordtype}{void} RecordEndOfRun( G4Run \textcolor{keyword}{const}* );}
\DoxyCodeLine{85 }
\DoxyCodeLine{90   \textcolor{keyword}{virtual} \textcolor{keywordtype}{void} RecordBeginOfEvent( G4Event \textcolor{keyword}{const}* );}
\DoxyCodeLine{91 }
\DoxyCodeLine{98   \textcolor{keyword}{virtual} \textcolor{keywordtype}{void} RecordEndOfEvent( G4Event \textcolor{keyword}{const}* event );}
\DoxyCodeLine{99 }
\DoxyCodeLine{104   \textcolor{keyword}{virtual} \textcolor{keywordtype}{void} RecordStepWithVolume( \mbox{\hyperlink{classGateVVolume}{GateVVolume}} \textcolor{keyword}{const}*, G4Step \textcolor{keyword}{const}* );}
\DoxyCodeLine{105 }
\DoxyCodeLine{110   \textcolor{keyword}{virtual} \textcolor{keywordtype}{void} RecordVoxels( \mbox{\hyperlink{classGateVGeometryVoxelStore}{GateVGeometryVoxelStore}}* voxelStore );}
\DoxyCodeLine{111 }
\DoxyCodeLine{117   \textcolor{keyword}{virtual} \textcolor{keywordtype}{void} RecordDigitizer( G4Event \textcolor{keyword}{const}* );}
\DoxyCodeLine{118 }
\DoxyCodeLine{124   \textcolor{keyword}{inline} \textcolor{keyword}{virtual} G4String \textcolor{keyword}{const}\& GiveNameOfFile() \{ \textcolor{keywordflow}{return} m\_fileName; \}}
\DoxyCodeLine{125 }
\DoxyCodeLine{131   \textcolor{keyword}{inline} \textcolor{keyword}{virtual} \textcolor{keywordtype}{void} SetFileName( G4String \textcolor{keyword}{const} aName )}
\DoxyCodeLine{132   \{ m\_fileName = aName; \};}
\DoxyCodeLine{133 }
\DoxyCodeLine{139   \textcolor{keyword}{inline} \textcolor{keyword}{virtual} G4bool GetOutFileRunsFlag() \{ \textcolor{keywordflow}{return} m\_outFileRunsFlag; \}}
\DoxyCodeLine{140 }
\DoxyCodeLine{146   \textcolor{keyword}{inline} \textcolor{keyword}{virtual} \textcolor{keywordtype}{void} SetOutFileRunsFlag( G4bool flag )}
\DoxyCodeLine{147   \{ m\_outFileRunsFlag = flag; \};}
\DoxyCodeLine{148 }
\DoxyCodeLine{154   \textcolor{keyword}{inline} \textcolor{keyword}{virtual} G4bool GetOutFileHitsFlag() \{ \textcolor{keywordflow}{return} m\_outFileHitsFlag; \}}
\DoxyCodeLine{155 }
\DoxyCodeLine{161   \textcolor{keyword}{inline} \textcolor{keyword}{virtual} \textcolor{keywordtype}{void} SetOutFileHitsFlag( G4bool flag )}
\DoxyCodeLine{162   \{ m\_outFileHitsFlag = flag; \}}
\DoxyCodeLine{163 }
\DoxyCodeLine{169   \textcolor{keyword}{inline} \textcolor{keyword}{virtual} G4bool GetOutFileVoxelFlag()}
\DoxyCodeLine{170   \{ \textcolor{keywordflow}{return} m\_outFileVoxelFlag; \}}
\DoxyCodeLine{171 }
\DoxyCodeLine{177   \textcolor{keyword}{inline} \textcolor{keyword}{virtual} \textcolor{keywordtype}{void} SetOutFileVoxelFlag( G4bool flag )}
\DoxyCodeLine{178   \{ m\_outFileVoxelFlag = flag; \}}
\DoxyCodeLine{179 }
\DoxyCodeLine{185   \textcolor{keyword}{inline} \textcolor{keyword}{virtual} G4int GetRecordFlag() \{ \textcolor{keywordflow}{return} m\_recordFlag; \}}
\DoxyCodeLine{186 }
\DoxyCodeLine{192   \textcolor{keyword}{inline} \textcolor{keyword}{virtual} \textcolor{keywordtype}{void} SetRecordFlag( G4int flag ) \{ m\_recordFlag = flag; \}}
\DoxyCodeLine{193 }
\DoxyCodeLine{200   \textcolor{keyword}{virtual} \textcolor{keywordtype}{void} RegisterNewCoincidenceDigiCollection(}
\DoxyCodeLine{201                                                     G4String \textcolor{keyword}{const}\& aCollectionName, G4bool outputFlag );}
\DoxyCodeLine{202 }
\DoxyCodeLine{209   \textcolor{keyword}{virtual} \textcolor{keywordtype}{void} RegisterNewSingleDigiCollection(}
\DoxyCodeLine{210                                                G4String \textcolor{keyword}{const}\& aCollectionName, G4bool outputFlag );}
\DoxyCodeLine{211 }
\DoxyCodeLine{217   \textcolor{keyword}{inline} \textcolor{keyword}{virtual} \textcolor{keywordtype}{void} SetVerboseLevel( G4int val )}
\DoxyCodeLine{218   \{}
\DoxyCodeLine{219     GateVOutputModule::SetVerboseLevel( val );}
\DoxyCodeLine{220     \textcolor{keywordflow}{for}( \textcolor{keywordtype}{size\_t} i = 0; i < m\_outputChannelVector.size(); ++i )}
\DoxyCodeLine{221       \{}
\DoxyCodeLine{222         m\_outputChannelVector[ i ]-\/>SetVerboseLevel( val );}
\DoxyCodeLine{223       \}}
\DoxyCodeLine{224   \}}
\DoxyCodeLine{225 }
\DoxyCodeLine{233   \textcolor{keyword}{typedef} \textcolor{keyword}{struct }VOutputChannel}
\DoxyCodeLine{234   \{}
\DoxyCodeLine{235   \textcolor{keyword}{public}:}
\DoxyCodeLine{242     VOutputChannel( G4String \textcolor{keyword}{const}\& aCollectionName, G4bool outputFlag )}
\DoxyCodeLine{243       : nVerboseLevel( 0 ), m\_outputFlag( outputFlag ),}
\DoxyCodeLine{244         m\_fileBaseName( G4String( \textcolor{stringliteral}{"{}"{}} ) ),}
\DoxyCodeLine{245         m\_collectionName( aCollectionName ), m\_fileCounter( 0 ),}
\DoxyCodeLine{246         m\_collectionID( -\/1 )}
\DoxyCodeLine{247     \{\}}
\DoxyCodeLine{248 }
\DoxyCodeLine{255     \textcolor{keyword}{virtual} \string~VOutputChannel() \{\}}
\DoxyCodeLine{256 }
\DoxyCodeLine{261     \textcolor{keyword}{virtual} \textcolor{keywordtype}{void} RecordDigitizer() = 0;}
\DoxyCodeLine{262 }
\DoxyCodeLine{268     \textcolor{keyword}{virtual} \textcolor{keywordtype}{void} OpenFile( G4String \textcolor{keyword}{const}\& aFileBaseName );}
\DoxyCodeLine{269 }
\DoxyCodeLine{274     \textcolor{keyword}{virtual} \textcolor{keywordtype}{void} CloseFile();}
\DoxyCodeLine{275 }
\DoxyCodeLine{280     \textcolor{keyword}{virtual} G4bool ExceedsSize();}
\DoxyCodeLine{281 }
\DoxyCodeLine{287     \textcolor{keyword}{inline} \textcolor{keyword}{virtual} \textcolor{keywordtype}{void} SetOutputFlag( G4bool flag )}
\DoxyCodeLine{288     \{ m\_outputFlag = flag; \};}
\DoxyCodeLine{289 }
\DoxyCodeLine{295     \textcolor{keyword}{inline} \textcolor{keyword}{virtual} \textcolor{keywordtype}{void} SetVerboseLevel( G4int val )}
\DoxyCodeLine{296     \{ nVerboseLevel = val; \};}
\DoxyCodeLine{297 }
\DoxyCodeLine{303     \textcolor{keyword}{inline} \textcolor{keyword}{static} \textcolor{keywordtype}{void} SetOutputFileSizeLimit( G4int limit )}
\DoxyCodeLine{304     \{ m\_outputFileSizeLimit = limit; \};}
\DoxyCodeLine{305 }
\DoxyCodeLine{306   \textcolor{keyword}{public}:}
\DoxyCodeLine{307     G4int nVerboseLevel; }
\DoxyCodeLine{308     G4bool m\_outputFlag; }
\DoxyCodeLine{309     G4String m\_fileBaseName; }
\DoxyCodeLine{310     G4String m\_collectionName; }
\DoxyCodeLine{311     G4int m\_fileCounter; }
\DoxyCodeLine{312     G4int   m\_collectionID; }
\DoxyCodeLine{313     std::ofstream m\_outputFile; }
\DoxyCodeLine{314     \textcolor{keyword}{static} G4int m\_outputFileSizeLimit; }
\DoxyCodeLine{315   \} VOutputChannel;}
\DoxyCodeLine{316 }
\DoxyCodeLine{324   \textcolor{keyword}{typedef} \textcolor{keyword}{struct }SingleOutputChannel : \textcolor{keyword}{public} VOutputChannel}
\DoxyCodeLine{325   \{}
\DoxyCodeLine{326   \textcolor{keyword}{public}:}
\DoxyCodeLine{333     SingleOutputChannel( G4String \textcolor{keyword}{const}\& aCollectionName,}
\DoxyCodeLine{334                          G4bool outputFlag )}
\DoxyCodeLine{335       : GateToBinary::VOutputChannel( aCollectionName, outputFlag )}
\DoxyCodeLine{336     \{\}}
\DoxyCodeLine{337 }
\DoxyCodeLine{344     \textcolor{keyword}{virtual} \string~SingleOutputChannel() \{\}}
\DoxyCodeLine{345 }
\DoxyCodeLine{350     \textcolor{keyword}{virtual} \textcolor{keywordtype}{void} RecordDigitizer();}
\DoxyCodeLine{351   \} SingleOutputChannel;}
\DoxyCodeLine{352 }
\DoxyCodeLine{360   \textcolor{keyword}{typedef} \textcolor{keyword}{struct }CoincidenceOutputChannel : \textcolor{keyword}{public} VOutputChannel}
\DoxyCodeLine{361   \{}
\DoxyCodeLine{362   \textcolor{keyword}{public}:}
\DoxyCodeLine{369     CoincidenceOutputChannel( G4String \textcolor{keyword}{const}\& aCollectionName,}
\DoxyCodeLine{370                               G4bool outputFlag)}
\DoxyCodeLine{371       : GateToBinary::VOutputChannel( aCollectionName, outputFlag )}
\DoxyCodeLine{372     \{\}}
\DoxyCodeLine{373 }
\DoxyCodeLine{380     \textcolor{keyword}{virtual} \string~CoincidenceOutputChannel() \{\}}
\DoxyCodeLine{381 }
\DoxyCodeLine{386     \textcolor{keyword}{virtual} \textcolor{keywordtype}{void} RecordDigitizer();}
\DoxyCodeLine{387   \} CoincidenceOutputChannel;}
\DoxyCodeLine{388 }
\DoxyCodeLine{389 \textcolor{keyword}{protected}:}
\DoxyCodeLine{390   GateToBinaryMessenger* m\_binaryMessenger; }
\DoxyCodeLine{392   G4String m\_fileName; }
\DoxyCodeLine{393   G4bool m\_outFileHitsFlag; }
\DoxyCodeLine{394   G4bool m\_outFileVoxelFlag; }
\DoxyCodeLine{395   G4bool m\_outFileRunsFlag; }
\DoxyCodeLine{396   G4int m\_recordFlag; }
\DoxyCodeLine{397   std::vector< VOutputChannel* > m\_outputChannelVector; }
\DoxyCodeLine{399   std::ofstream m\_outFileRun; }
\DoxyCodeLine{400   std::ofstream m\_outFileHits; }
\DoxyCodeLine{402 \textcolor{keyword}{private}:}
\DoxyCodeLine{403   \textcolor{keyword}{static} G4String FixedWidthZeroPaddedString(\textcolor{keyword}{const} G4String \& full, \textcolor{keywordtype}{size\_t} length);}
\DoxyCodeLine{404 \};}
\DoxyCodeLine{405 }
\DoxyCodeLine{406 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{407 \textcolor{preprocessor}{\#endif}}

\end{DoxyCode}
