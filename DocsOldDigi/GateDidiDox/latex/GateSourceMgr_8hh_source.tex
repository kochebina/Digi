\hypertarget{GateSourceMgr_8hh_source}{}\doxysection{Gate\+Source\+Mgr.\+hh}
\label{GateSourceMgr_8hh_source}\index{/biomaps/physique/appli/GateOlga/src/source/physics/include/GateSourceMgr.hh@{/biomaps/physique/appli/GateOlga/src/source/physics/include/GateSourceMgr.hh}}

\begin{DoxyCode}{0}
\DoxyCodeLine{1 \textcolor{comment}{/*-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/}}
\DoxyCodeLine{2 \textcolor{comment}{  Copyright (C): OpenGATE Collaboration}}
\DoxyCodeLine{3 \textcolor{comment}{}}
\DoxyCodeLine{4 \textcolor{comment}{  This software is distributed under the terms}}
\DoxyCodeLine{5 \textcolor{comment}{  of the GNU Lesser General  Public Licence (LGPL)}}
\DoxyCodeLine{6 \textcolor{comment}{  See LICENSE.md for further details!}}
\DoxyCodeLine{7 \textcolor{comment}{  -\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/*/}}
\DoxyCodeLine{8 }
\DoxyCodeLine{9 }
\DoxyCodeLine{10 \textcolor{preprocessor}{\#ifndef GateSourceMgr\_h}}
\DoxyCodeLine{11 \textcolor{preprocessor}{\#define GateSourceMgr\_h 1}}
\DoxyCodeLine{12 }
\DoxyCodeLine{13 \textcolor{preprocessor}{\#include "{}globals.hh"{}}}
\DoxyCodeLine{14 \textcolor{preprocessor}{\#include <vector>}}
\DoxyCodeLine{15 \textcolor{preprocessor}{\#include "{}G4Event.hh"{}}}
\DoxyCodeLine{16 \textcolor{preprocessor}{\#include "{}G4Run.hh"{}}}
\DoxyCodeLine{17 \textcolor{preprocessor}{\#include "{}GateVSource.hh"{}}}
\DoxyCodeLine{18 }
\DoxyCodeLine{19 \textcolor{preprocessor}{\#include "{}GateApplicationMgr.hh"{}}}
\DoxyCodeLine{20 \textcolor{preprocessor}{\#include "{}GateSourcePencilBeam.hh"{}}}
\DoxyCodeLine{21 \textcolor{preprocessor}{\#include "{}GateSourceTPSPencilBeam.hh"{}}}
\DoxyCodeLine{22 \textcolor{preprocessor}{\#include "{}GateSourceFastY90.hh"{}}}
\DoxyCodeLine{23 }
\DoxyCodeLine{24 \textcolor{keyword}{class }\mbox{\hyperlink{classGateSourceMgrMessenger}{GateSourceMgrMessenger}};}
\DoxyCodeLine{25 }
\DoxyCodeLine{48 \textcolor{keyword}{class }\mbox{\hyperlink{classGateSourceMgr}{GateSourceMgr}}}
\DoxyCodeLine{49 \{}
\DoxyCodeLine{50 \textcolor{keyword}{public}:}
\DoxyCodeLine{51   \mbox{\hyperlink{classGateSourceMgr}{\string~GateSourceMgr}}();}
\DoxyCodeLine{52 }
\DoxyCodeLine{53   \textcolor{comment}{// Need to be in header (not in cc)}}
\DoxyCodeLine{54   \textcolor{keyword}{static} \mbox{\hyperlink{classGateSourceMgr}{GateSourceMgr}}* GetInstance() \{}
\DoxyCodeLine{55     \textcolor{keywordflow}{if}( mInstance == 0 )}
\DoxyCodeLine{56       mInstance = \textcolor{keyword}{new} \mbox{\hyperlink{classGateSourceMgr}{GateSourceMgr}}();}
\DoxyCodeLine{57     \textcolor{keywordflow}{return} mInstance;}
\DoxyCodeLine{58   \}}
\DoxyCodeLine{59 }
\DoxyCodeLine{60   G4int AddSource( std::vector<G4String> );}
\DoxyCodeLine{61   G4int RemoveSource( G4String name );}
\DoxyCodeLine{62   G4int AddSource( \mbox{\hyperlink{classGateVSource}{GateVSource}}* pSource );}
\DoxyCodeLine{63   \mbox{\hyperlink{classGateVSource}{GateVSource}}* GetSourceByName( G4String name );}
\DoxyCodeLine{64   \mbox{\hyperlink{classGateVSource}{GateVSource}}* GetSource(\textcolor{keywordtype}{int} i);}
\DoxyCodeLine{65 }
\DoxyCodeLine{73   \textcolor{keyword}{inline} GateVSourceVector \mbox{\hyperlink{classGateSourceMgr_a5a95b8143ef76fbe9075de756b1b750f}{GetSourcesForThisEvent}}()}
\DoxyCodeLine{74   \{ \textcolor{keywordflow}{return} m\_currentSources; \}}
\DoxyCodeLine{75 }
\DoxyCodeLine{76   \textcolor{comment}{/* PY Descourt 08/09/2009 Tracker/Detector */}}
\DoxyCodeLine{77   G4int GetCurrentSourceID() \{ \textcolor{keywordflow}{return} m\_currentSourceID; \};}
\DoxyCodeLine{78   \textcolor{keywordtype}{void} SetCurrentSourceID( G4int aID ) \{ m\_currentSourceID = aID ; \};}
\DoxyCodeLine{79 }
\DoxyCodeLine{80 }
\DoxyCodeLine{81   \textcolor{keywordtype}{void} SetTime( G4double value ) \{ m\_time = value; \}}
\DoxyCodeLine{82   G4double GetTime() \{ \textcolor{keywordflow}{return} m\_time; \}}
\DoxyCodeLine{83 }
\DoxyCodeLine{87   \mbox{\hyperlink{classGateVSource}{GateVSource}}* \mbox{\hyperlink{classGateSourceMgr_ab2e6cf565726ab9391b141d7fe6a11d1}{GetNextSource}}();}
\DoxyCodeLine{88 }
\DoxyCodeLine{92   G4int \mbox{\hyperlink{classGateSourceMgr_a87bb9463d2a277663dc815707199de98}{PrepareNextEvent}}( G4Event* event );}
\DoxyCodeLine{93     G4bool IsLaunchLastBuffer() \{ \textcolor{keywordflow}{return} m\_launchLastBuffer; \}}
\DoxyCodeLine{94 }
\DoxyCodeLine{98   G4int \mbox{\hyperlink{classGateSourceMgr_a3bef66da5697c2037781fe14d2ec37dd}{PrepareNextRun}}( \textcolor{keyword}{const} G4Run* run );}
\DoxyCodeLine{99 }
\DoxyCodeLine{101   \textcolor{keywordtype}{void} \mbox{\hyperlink{classGateSourceMgr_a88a715ee2b4cc41dbd25cd5a0cbb74c0}{ListSources}}();}
\DoxyCodeLine{102 }
\DoxyCodeLine{106   \textcolor{keywordtype}{void} \mbox{\hyperlink{classGateSourceMgr_a2571beea80e06fc41b6a01dbdcd9153e}{SelectSourceByName}}( G4String value );}
\DoxyCodeLine{107   \textcolor{keywordtype}{void} SetVerboseLevel( G4int value );}
\DoxyCodeLine{108 }
\DoxyCodeLine{109   \textcolor{keywordtype}{void} Initialization();}
\DoxyCodeLine{110 }
\DoxyCodeLine{111   \textcolor{comment}{//void SetIsSuccessiveSources(G4bool t)\{GateApplicationMgr::GetInstance()-\/>EnableSuccessiveSourceMode(t);\}}}
\DoxyCodeLine{112   \textcolor{comment}{//bool IsSuccessiveSourceModeIsEnabled() \{ return GateApplicationMgr::GetInstance()-\/>IsSuccessiveSourceModeIsEnabled(); \}}}
\DoxyCodeLine{113   \textcolor{keywordtype}{bool} IsTotalAmountOfPrimariesModeEnabled() \{ \textcolor{keywordflow}{return} GateApplicationMgr::GetInstance()-\/>IsTotalAmountOfPrimariesModeEnabled(); \}}
\DoxyCodeLine{114 }
\DoxyCodeLine{115   \textcolor{comment}{//G4double GetTimeSlice(int i)          \{ return mListOfTimeSlices[i];\}}}
\DoxyCodeLine{116   \textcolor{comment}{//G4double GetCurrentTimeSlice()        \{ return mCurrentSliceTotalTime; \}}}
\DoxyCodeLine{117   \textcolor{comment}{//void SetTimeSlice(G4double v);}}
\DoxyCodeLine{118   \textcolor{comment}{//void SetActivity(G4double a);}}
\DoxyCodeLine{119   \textcolor{comment}{//G4double GetActivity(G4int j) \{return listOfActivity[j];\}}}
\DoxyCodeLine{120   \textcolor{comment}{//void SetNTot(G4int a)\{m\_use\_autoweight=true;m\_TotNPart=a;\}}}
\DoxyCodeLine{121   \textcolor{keywordtype}{void} SetWeight(G4double a)\{mWeight=a;\}}
\DoxyCodeLine{122   G4double GetWeight()\{\textcolor{keywordflow}{return} mWeight;\}}
\DoxyCodeLine{123 }
\DoxyCodeLine{124   G4int GetNumberOfEventBySource(\textcolor{keywordtype}{int} sourceNumber)\{\textcolor{keywordflow}{return} mNumberOfEventBySource[sourceNumber];\}}
\DoxyCodeLine{125 }
\DoxyCodeLine{126   G4int GetSourceID(G4int run )\{\textcolor{keywordflow}{return} mSourceID[run];\}}
\DoxyCodeLine{127   G4int GetNumberOfSources()\{\textcolor{keywordflow}{return} mSources.size();\}}
\DoxyCodeLine{128 }
\DoxyCodeLine{129 \textcolor{keyword}{protected}:}
\DoxyCodeLine{130   \mbox{\hyperlink{classGateSourceMgr}{GateSourceMgr}}();}
\DoxyCodeLine{131   G4int CheckSourceName( G4String sourceName );}
\DoxyCodeLine{132 }
\DoxyCodeLine{133   \textcolor{keyword}{static} \mbox{\hyperlink{classGateSourceMgr}{GateSourceMgr}}*     mInstance;}
\DoxyCodeLine{134   GateVSourceVector         mSources;}
\DoxyCodeLine{135   \mbox{\hyperlink{classGateVSource}{GateVSource}}*              m\_previousSource;}
\DoxyCodeLine{136   GateVSourceVector         m\_currentSources;}
\DoxyCodeLine{137   \mbox{\hyperlink{classGateSourceMgrMessenger}{GateSourceMgrMessenger}}*   m\_sourceMgrMessenger;}
\DoxyCodeLine{138   \mbox{\hyperlink{classGateVSource}{GateVSource}}*              m\_selectedSource;}
\DoxyCodeLine{139   G4bool                    m\_needSourceInit;}
\DoxyCodeLine{140   G4double                  m\_time;}
\DoxyCodeLine{141   G4double                  m\_timeLimit;}
\DoxyCodeLine{142   G4double                  m\_timeClock;}
\DoxyCodeLine{143     G4double                  m\_firstTime;}
\DoxyCodeLine{144   G4bool                    m\_launchLastBuffer;}
\DoxyCodeLine{145     G4int                     m\_sourceProgressiveNumber;}
\DoxyCodeLine{146   G4int                     mVerboseLevel;}
\DoxyCodeLine{147   G4int                     m\_TotNPart;}
\DoxyCodeLine{148   \textcolor{comment}{//  G4int                     m\_runNumber;}}
\DoxyCodeLine{149   G4int                     m\_currentSourceNumber;}
\DoxyCodeLine{150   \textcolor{comment}{//G4bool                    m\_use\_autoweight;}}
\DoxyCodeLine{151   \textcolor{comment}{//std::vector<G4double>     mListOfTimeSlices;}}
\DoxyCodeLine{152   \textcolor{comment}{//G4double                  mCurrentSliceStartTime;}}
\DoxyCodeLine{153   \textcolor{comment}{//G4double                  mCurrentSliceStopTime;}}
\DoxyCodeLine{154   \textcolor{comment}{//G4double                  mCurrentSliceTotalTime;}}
\DoxyCodeLine{155   G4int                     mNbOfParticleInTheCurrentRun;}
\DoxyCodeLine{156   G4double                  mWeight;}
\DoxyCodeLine{157   G4double                  mTotalIntensity;}
\DoxyCodeLine{158   \textcolor{comment}{//std::vector<G4double>     listOfActivity;}}
\DoxyCodeLine{159   std::vector<G4int>        listOfWeight;}
\DoxyCodeLine{160   std::map<G4int,G4int>     mNumberOfEventBySource;}
\DoxyCodeLine{161 }
\DoxyCodeLine{162   std::vector<int>          mSourceID;}
\DoxyCodeLine{163 }
\DoxyCodeLine{164   \textcolor{comment}{/* PY Descourt 08/09/2008 */}}
\DoxyCodeLine{165   G4int m\_currentSourceID; \textcolor{comment}{// for detector mode}}
\DoxyCodeLine{166   \mbox{\hyperlink{classGateVSource}{GateVSource}}* m\_fictiveSource; \textcolor{comment}{// idem}}
\DoxyCodeLine{167   G4int p\_cK;}
\DoxyCodeLine{168 }
\DoxyCodeLine{169 \};}
\DoxyCodeLine{170 }
\DoxyCodeLine{171 \textcolor{preprocessor}{\#endif}}

\end{DoxyCode}
